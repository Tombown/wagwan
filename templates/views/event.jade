extends ../layouts/default

block content
	script(type='text/javascript').
		if (navigator.geolocation) { //Checks if browser supports geolocation
		navigator.geolocation.getCurrentPosition(function (position) {                                                              //This gets the
		var latitude = position.coords.latitude;                    //users current
		var longitude = position.coords.longitude;                 //location
		var coords = new google.maps.LatLng(latitude, longitude); //Creates variable for map coordinates
		var directionsService = new google.maps.DirectionsService();
		var directionsDisplay = new google.maps.DirectionsRenderer();
		var mapOptions = //Sets map options'
		{
		zoom: 15,  //Sets zoom level (0-21)
		center: coords, //zoom in on users location
		mapTypeControl: true, //allows you to select map type eg. map or satellite
		navigationControlOptions:
		{
		style: google.maps.NavigationControlStyle.SMALL //sets map controls size eg. zoom
		},
		mapTypeId: google.maps.MapTypeId.ROADMAP //sets type of map Options:ROADMAP, SATELLITE, HYBRID, TERRIAN
		};
		map = new google.maps.Map( /*creates Map variable*/ document.getElementById("map"), mapOptions /*Creates a new map using the passed optional parameters in the mapOptions parameter.*/);
		directionsDisplay.setMap(map);
		directionsDisplay.setPanel(document.getElementById('panel'));
		var request = {
		origin: coords,
		destination: data.event.location.postcode,
		travelMode: google.maps.DirectionsTravelMode.DRIVING
		};

		directionsService.route(request, function (response, status) {
		if (status == google.maps.DirectionsStatus.OK) {
		directionsDisplay.setDirections(response);
		}
		});
		});
		}

	.container.event-page
		.row
			.col-md-8.col-sm-8.col-xs-12
				.col-md-10.col-sm-10.col-xs-10
					h3= data.event.title
					.address 
					!= data.event.location.street1 
					, 
					!= data.event.location.postcode
				.col-md-2.col-sm-2.col-xs-2.time 
					p On now
		.row
			.col-md-8.col-sm-8.col-xs-12.map
				#map
				p= data.event.location.postcode
				.time-expanded.pull-left
					h4 
						!= data.event.start
						span &nbsp;to&nbsp;
						!= data.event.end
				.distance.pull-right
					h4 0.3 miles
				.price.clear
					h4 Â£
						!= data.event.price
			.col-md-4.col-sm-4.col-xs-12.event-copy
				ul.list-unstyled.list-inline.pull-left
					li
						i.fa.fa-user.fa-3x

				span.pull-left 
					!= data.event.author.name.first
					span &nbsp;
					!= data.event.author.name.last
				span.pull-left
					!= data.event.publisheddate
					p
						!= data.event.description